#include <zstack/lld/f28335/f28335.h>

int led(void)
{
	f28335_pll_peripheral_enable(F28335_PLL_BASE, F28335_IP_GPIO);

	f28335_gpio_func(F28335_GPIO_BASE, F28335_GPIO_0, F28335_GPIO_FUNC_GPIO);
	f28335_gpio_func(F28335_GPIO_BASE, F28335_GPIO_1, F28335_GPIO_FUNC_GPIO);
	f28335_gpio_func(F28335_GPIO_BASE, F28335_GPIO_2, F28335_GPIO_FUNC_GPIO);
	f28335_gpio_func(F28335_GPIO_BASE, F28335_GPIO_3, F28335_GPIO_FUNC_GPIO);
	f28335_gpio_func(F28335_GPIO_BASE, F28335_GPIO_4, F28335_GPIO_FUNC_GPIO);

	f28335_gpio_dir(F28335_GPIO_BASE, F28335_GPIO_0, F28335_GPIO_OUTPUT);
	f28335_gpio_dir(F28335_GPIO_BASE, F28335_GPIO_1, F28335_GPIO_OUTPUT);
	f28335_gpio_dir(F28335_GPIO_BASE, F28335_GPIO_2, F28335_GPIO_OUTPUT);
	f28335_gpio_dir(F28335_GPIO_BASE, F28335_GPIO_3, F28335_GPIO_OUTPUT);
	f28335_gpio_dir(F28335_GPIO_BASE, F28335_GPIO_4, F28335_GPIO_OUTPUT);

	while (1) {
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_0, F28335_GPIO_LEVEL_LOW);
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_1, F28335_GPIO_LEVEL_LOW);
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_2, F28335_GPIO_LEVEL_LOW);
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_3, F28335_GPIO_LEVEL_LOW);
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_4, F28335_GPIO_LEVEL_LOW);

		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_0, F28335_GPIO_LEVEL_HIGH);
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_1, F28335_GPIO_LEVEL_HIGH);
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_2, F28335_GPIO_LEVEL_HIGH);
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_3, F28335_GPIO_LEVEL_HIGH);
		f28335_gpio_output(F28335_GPIO_BASE, F28335_GPIO_4, F28335_GPIO_LEVEL_HIGH);
	}
}
